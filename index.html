<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>TEST WEB APP</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Manrope&family=PT+Sans:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="first_page">
        <div class="con" id="main_con">
            <img src="photo/banner.svg" alt="banner" id="banner">
            <div class="com" id="about_con">
                <img src="photo/logo.svg" alt="logo" id="logo">
                <img src="photo/text-logo.svg" alt="text-logo" id="text-logo">
                <button class="btn" id="btn1">Вход в кабинет</button>
                <button class="btn" id="btn2">Зарегистрироваться</button>
            </div>
        </div>
        <div class="con" id="sing_in_con">
            <img src="photo/logo.svg" alt="logo" id="logo_sing_in">
            <img src="photo/text-logo.svg" alt="text-logo" id="text_logo_sing_in">
            <h1 id="sing_in_text1">Вход в кабинет</h1>
            <form id="form_sing_in">
                <input type="text" placeholder="Введите логин" id="login_sing_in">
                <input type="password" placeholder="Введите пароль" id="password_sing_in">
            </form>
            <div id="error"></div>
            <p id="sing_in_text2">Нет личного кабинета? Создайте его в главном меню, нажав кнопку "Главное меню".</p>
            <button class="btn" id="btn3">Войти</button>
            <button class="btn" id="btn4">Главное меню</button>
        </div>
    </header>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        let sing_in_main_menu = document.getElementById("btn1");
        let sing_in_back = document.getElementById("btn4");

        sing_in_main_menu.addEventListener("click", function () {
            document.getElementById("main_con").style.display = 'none';
            document.getElementById("sing_in_con").style.display = 'block';
        });

        let sing_in = document.getElementById("btn3");

        sing_in.addEventListener("click", function () {
            let login = document.getElementById("login_sing_in").value;
            let password = document.getElementById("password_sing_in").value;

            if (login.length < 10) {
                document.getElementById("error").innerText = 'Логин должен иметь не менее 10 символов!';
                document.getElementById("login_sing_in").value = '';
                document.getElementById("password_sing_in").value = '';
                return
            }
            if (password.length < 12) {
                document.getElementById("error").innerText = 'Пароль должен иметь не менее 12 символов!';
                document.getElementById("login_sing_in").value = '';
                document.getElementById("password_sing_in").value = '';
                return
            }

            let data = {
                login: login,
                password: password,
            }
            tg.sendData(JSON.stringify(data))
        });

        sing_in_back.addEventListener("click", function () {
            document.getElementById("main_con").style.display = 'block';
            document.getElementById("sing_in_con").style.display = 'none';
        });
    </script>
</body>
</html>